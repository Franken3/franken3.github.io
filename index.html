<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.0/p5.js"></script>
  <style>
    body {
      padding: 30px;
      margin: 0;
      display: flex;
      justify-content: center;
      align-items: center;
      min-height: 100vh;
      background-color: #222;
    }
    canvas {
      border: 1px solid #ccc;
    }
  </style>
</head>
<body>
<script>
  let player;
  let obstacles = [];

  class Player {
    constructor() {
      this.x = width / 2;
      this.y = height / 2;
      this.r = 20;
    }

    show() {
      fill(255);
      ellipse(this.x, this.y, this.r * 2);
    }

    move(dir) {
      this.x += dir * 5;
    }
  }

  class Obstacle {
    constructor() {
      this.x = random(width);
      this.y = 0;
      this.r = random(10, 30);
      this.speed = random(1, 5);
    }

    update() {
      this.y += this.speed;
    }

    show() {
      fill(255, 50, 50);
      ellipse(this.x, this.y, this.r * 2);
    }

    offscreen() {
      return this.y > height;
    }
  }

  function setup() {
    createCanvas(600, 400);
    player = new Player();
  }

  function draw() {
    background(50);

    player.show();

    if (random() < 0.02) {
      obstacles.push(new Obstacle());
    }

    for (let i = obstacles.length - 1; i >= 0; i--) {
      obstacles[i].update();
      obstacles[i].show();

      if (obstacles[i].offscreen()) {
        obstacles.splice(i, 1);
      }
    }
  }

  function keyPressed() {
    if (keyCode === LEFT_ARROW) {
      player.move(-1);
    } else if (keyCode === RIGHT_ARROW) {
      player.move(1);
    }
  }
</script>
</body>
</html>
